
<section class="main">
  <h1>Best Recipes for You!</h1>
  <p>With minimal ingredients make yourself a delicious and healthy recipe</p>
</section>

<div class="slider">
  <div class="slides" id="dynamic-slides">
    <!-- Recipes will be dynamically rendered here by JS -->
  </div>
  <button class="prev">⟨</button>
  <button class="next">⟩</button>
</div>

<script src="../static/JS/home.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const slidesContainer = document.getElementById("dynamic-slides");

    // Assuming recipes are passed from Django view context, for example:
    // return render(request, "home.html", {"recipes": recipes})

  const recipes = JSON.parse('{{ recipes|safe|escapejs }}');

    if (!recipes.length) {
      slidesContainer.innerHTML = '<p>No recipes available.</p>';
      return;
    }

    const middleIndex = Math.floor(Math.min(3, recipes.length) / 2);
    recipes.slice(0, 3).forEach((recipe, index) => {
      const slide = document.createElement("div");
      slide.className = `slide ${index === middleIndex ? "active" : ""}`;
      slide.id = index + 1;
      slide.innerHTML = `
        <div class="image-wrapper">
          <img src="${recipe.image || '../static/images/bechamel.jpg'}" alt="${recipe.name}">
        </div>
        <h3>${recipe.name}</h3>
        <a href="recipe-details.html?id=${recipe.id}" class="view-btn">View Recipe</a>
      `;
      slidesContainer.appendChild(slide);
    });
  });
</script>

